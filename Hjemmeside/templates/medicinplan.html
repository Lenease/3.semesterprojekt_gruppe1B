<!doctype html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Plejehjemmet Pyrus Allé</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Plejehjemmet Pyrus Allé</a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="/hjem">Hjem</a></li>
        <li class="nav-item"><a class="nav-link" href="/beboer">Beboer</a></li>
        <li class="nav-item"><a class="nav-link active" href="/medicinplan">Medicinplan</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- INDHOLD -->
<div class="container mt-4">

    <h2>Tilføj medicin til beboer</h2>

    <form action="/medicinplan" method="POST">

        <!-- BEBOER -->
        <div class="mb-3">
            <label class="form-label">Vælg beboer</label>
            <select name="beboer" class="form-select" required>

                <option value="1">Lone</option>
                <option value="2">Henrik</option>
                <option value="3">Lars</option>
                <option value="4">Inge</option>
                <option value="5">Yvonne</option>
                <option value="6">Rasmus</option>
                <option value="7">Ursula</option>
                <option value="8">Erik</option>
                <option value="9">Anders</option>
                <option value="10">Ole</option>
                <option value="11">Peter</option>
                <option value="12">Lise</option>
                <option value="13">Anne</option>
                <option value="14">Suzanne</option>
                <option value="15">Niels</option>

            </select>
        </div>

        <h4>Medicin</h4>

        <div id="medicinContainer"></div>

        <button type="button" class="btn btn-secondary mt-2" onclick="addMedicinRow()">+ Tilføj medicin</button>

        <hr>

        <button type="submit" class="btn btn-primary">Gem</button>
        <a href="/medicinplan" class="btn btn-secondary">Tilbage</a>

    </form>
</div>

<script>
let counter = 0;

function addMedicinRow() {
    counter++;

    let html = `
        <div class="row mb-2" id="medicinRow_${counter}">
            <div class="col">
                <select name="medicin_${counter}" class="form-select" required>
                    <option value="">Vælg medicin</option>
                    <option value="1">D-vitamin</option>
                    <option value="2">Paracetamol</option>
                    <option value="3">Metoprolol</option>
                    <option value="4">Metformin</option>
                    <option value="5">Donepezil</option>
                    <option value="6">Simvastatin</option>
                    <option value="7">Fiskeolie</option>
                    <option value="8">Kalk</option>
                    <option value="9">Omeperazol</option>
                </select>
            </div>

            <div class="col">
                <input type="number" name="dosis_${counter}" class="form-control" placeholder="Dosis" required>
            </div>

            <div class="col">
                <select name="tidspunkt_${counter}" class="form-select" required>
                    <option value="">Tidspunkt</option>
                    <option value="Morgen">Morgen</option>
                    <option value="Formiddag">Formiddag</option>
                    <option value="Middag">Middag</option>
                    <option value="Eftermiddag">Eftermiddag</option>
                    <option value="Aften">Aften</option>
                    <option value="Nat">Nat</option>
                </select>
            </div>

            <div class="col-1">
                <button type="button" class="btn btn-danger" onclick="removeRow(${counter})">X</button>
            </div>
        </div>
    `;

    document.getElementById("medicinContainer").insertAdjacentHTML('beforeend', html);
}

function removeRow(id) {
    document.getElementById("medicinRow_" + id).remove();
}
</script>

</body>
</html>
